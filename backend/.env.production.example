# Production Environment Variables
# Copy this file to .env.production and fill in the values

# ===============================================
# DATABASE CONFIGURATION
# ===============================================
DATABASE_URL="postgresql://username:password@host:5432/database?schema=public&sslmode=require"
# Example: postgresql://epc_prod:SecurePassword123@db.example.com:5432/epc_production

# ===============================================
# AUTHENTICATION
# ===============================================
JWT_SECRET="CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_AT_LEAST_32_CHARACTERS_LONG"
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

JWT_EXPIRES_IN="1h"
# Options: 15m, 30m, 1h, 2h, 1d, 7d

# ===============================================
# SERVER CONFIGURATION
# ===============================================
NODE_ENV="production"
PORT=3001

# Frontend URL for CORS
FRONTEND_URL="https://yourdomain.com"
ADMIN_URL="https://admin.yourdomain.com"

# ===============================================
# REDIS CONFIGURATION
# ===============================================
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
# Example: redis://default:password@redis.example.com:6379

# ===============================================
# FILE UPLOAD CONFIGURATION
# ===============================================
MAX_FILE_SIZE=52428800
# 50MB in bytes (50 * 1024 * 1024)

UPLOAD_DIR="/var/app/uploads"
# Absolute path for file uploads

# ===============================================
# LOGGING CONFIGURATION
# ===============================================
LOG_LEVEL="info"
# Options: error, warn, info, debug, verbose

LOG_DIR="/var/log/epc-api"
# Directory for log files

# ===============================================
# MONITORING & OBSERVABILITY
# ===============================================
# Sentry for error tracking
SENTRY_DSN=""
# Example: https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# DataDog APM (optional)
DD_API_KEY=""
DD_SERVICE="epc-api"
DD_ENV="production"

# New Relic APM (optional)
NEW_RELIC_LICENSE_KEY=""
NEW_RELIC_APP_NAME="EPC API Production"

# ===============================================
# EMAIL CONFIGURATION (Future)
# ===============================================
SMTP_HOST="smtp.example.com"
SMTP_PORT=587
SMTP_USER="noreply@yourdomain.com"
SMTP_PASSWORD=""
SMTP_FROM="EPC System <noreply@yourdomain.com>"

# ===============================================
# SECURITY
# ===============================================
# Rate limiting
THROTTLE_TTL=60000
# Time window in milliseconds (60000 = 1 minute)

THROTTLE_LIMIT=100
# Max requests per time window

# CORS Origins (comma-separated)
CORS_ORIGINS="https://yourdomain.com,https://admin.yourdomain.com"

# ===============================================
# DATABASE BACKUP
# ===============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
# Cron format: Daily at 2 AM

BACKUP_RETENTION_DAYS=30
# Number of days to keep backups

BACKUP_S3_BUCKET=""
# S3 bucket for backup storage (optional)

AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"

# ===============================================
# FEATURE FLAGS
# ===============================================
ENABLE_SWAGGER=false
# Disable Swagger in production for security

ENABLE_DEBUG_LOGS=false
# Disable verbose logging in production

ENABLE_PROFILING=false
# Enable only when debugging performance issues

# ===============================================
# PERFORMANCE
# ===============================================
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
# Connection pool settings

CACHE_TTL=300
# Default cache TTL in seconds (5 minutes)

# ===============================================
# NOTIFICATIONS (Future)
# ===============================================
SLACK_WEBHOOK_URL=""
# For critical alerts

NOTIFICATION_EMAIL=""
# Admin email for alerts

# ===============================================
# EXTERNAL INTEGRATIONS (Future)
# ===============================================
# P6 Integration
P6_API_URL=""
P6_API_KEY=""

# MS Project Integration
MS_PROJECT_API_URL=""
MS_PROJECT_API_KEY=""

# ===============================================
# MAINTENANCE MODE
# ===============================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please check back later."

# ===============================================
# NOTES
# ===============================================
# - Never commit .env.production with real values
# - Use a secrets manager in production (AWS Secrets Manager, HashiCorp Vault)
# - Rotate secrets regularly
# - Use strong random passwords (min 32 characters)
# - Enable SSL/TLS for all external connections
# - Monitor logs for suspicious activity
